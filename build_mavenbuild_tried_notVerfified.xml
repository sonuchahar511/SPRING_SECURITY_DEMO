	<target name="build2">
		<property environment="env"/>
		<property name="maven.home" value="${env.M2_HOME}" />
		<property name="multiModuleProjectDirectory" value="false" />
		
		<macrodef name="maven">
		    <attribute name="options" default="" />
		    <attribute name="goal" />
		    <attribute name="basedir" />
		    <attribute name="resultproperty" default="maven.result" />
			
		    <element name="args" implicit="true" optional="true" />
		    <sequential>
		      <java classname="org.codehaus.classworlds.Launcher" fork="true" dir="@{basedir}" resultproperty="@{resultproperty}">
		        <jvmarg value="-Xmx512m"/>
		        <classpath>
		          <fileset dir="${maven.home}/boot">
		            <include name="*.jar" />
		          </fileset>
		          <fileset dir="${maven.home}/lib">
		            <include name="*.jar" />
		          </fileset>
		        </classpath>
		        <sysproperty key="classworlds.conf" value="${maven.home}/bin/m2.conf" />
		        <sysproperty key="maven.home" value="${maven.home}" />
		        <arg line="--batch-mode @{options} @{goal}" />
		      </java>
		    </sequential>
		  </macrodef>
		
		<maven basedir="${basedir}" options="${maven.opts}" goal=" clean install " resultproperty="maven.build.result"/>
		
	</target>
	
	<target name="build3">
		<!-- <path id="maven-ant-tasks.classpath" path="libs/maven-ant-tasks-2.1.3.jar" />
		<typedef resource="org/apache/maven/artifact/ant/antlib.xml" uri="antlib:org.apache.maven.artifact.ant" classpathref="maven-ant-tasks.classpath" />
		<property file="build.properties"/> -->

		<!-- Load pom.xml for dependencies -->
		<artifact:pom id="pomfile" file="pom.xml" />
		<artifact:dependencies filesetId="mvn-dependencies" pomRefId="pomfile" />

		<path id="build.classpath">
		    <fileset refid="mvn-dependencies" />
		</path>
		
		<javac includeantruntime="false" srcdir="." destdir="target" classpathref="build.classpath">
	        <compilerarg value="-Xlint:unchecked"/>
	    </javac>
	</target>
	
	<target name="build4">
		<path id="maven-ant-tasks.classpath" path="maven_anttasklib/maven-ant-tasks-2.1.3.jar" />
		<typedef resource="org/apache/maven/artifact/ant/antlib.xml" classpathref="maven-ant-tasks.classpath"  uri="antlib:org.apache.maven.artifact.ant"/>
		
		 <artifact:mvn mavenHome="C:/study/apps/apache-maven-3.3.9">
		    <arg value="install"/>
		  </artifact:mvn>
	</target>
	
	<target name="build5">
		<path id="maven-ant-tasks.classpath" path="maven_anttasklib/maven-ant-tasks-2.1.3.jar" />
		<typedef resource="org/apache/maven/artifact/ant/antlib.xml" classpathref="maven-ant-tasks.classpath"  uri="antlib:org.apache.maven.artifact.ant"/>
		
		<artifact:dependencies filesetId="deps.fileset" useScope="runtime">
			<pom file="pom.xml"/>
			<!-- ${user.home}/.m2/repository" -->
			 <!-- <localRepository path="${user.home}/.m2/repository"/> -->
		</artifact:dependencies>
		<copy todir="${ant.build.directory}/ant_lib">
			<fileset refid="deps.fileset"/>
			<mapper type="flatten"/>
		</copy>
		
	</target>